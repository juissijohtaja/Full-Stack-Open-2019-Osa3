{"version":3,"sources":["components/Input.js","components/Button.js","components/Form.js","components/RemoveButton.js","components/Name.js","components/RowsFiltered.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Input","props","react_default","a","createElement","text","value","onChange","handler","Button","Fragment","type","Form","onSubmit","submit","components_Input","newName","handleNameChange","newNumber","handleNumberChange","components_Button","RemoveButton","onClick","handleClick","id","name","Name","_ref","number","eventHandler","components_RemoveButton","RowsFiltered","console","log","filter","persons","newList","item","toLowerCase","includes","map","i","components_Name","key","Notification","notification","message","style","className","concat","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","setNotification","useEffect","personService","initialPersons","length","components_Notification","event","target","components_Form","preventDefault","some","newPerson","returnedPersons","newNotification","setTimeout","window","confirm","personUpdate","find","remainingPersons","catch","error","n","components_RowsFiltered","getAttribute","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5265e547.chunk.js","sourcesContent":["import React from 'react'\n\nconst Input = (props) => (\n    <div>\n        {props.text}: <input value={props.value} onChange={props.handler} />\n    </div>\n)\n\nexport default Input\n","import React from 'react'\n\nconst Button = (props) => ( \n  <>\n    <button type=\"submit\">{props.text}</button>\n  </>\n)\n\nexport default Button","import React from 'react'\nimport Input from './Input'\nimport Button from './Button'\n\nconst Form = (props) => (\n    <form onSubmit={props.submit}>\n      <Input text=\"Nimi\" value={props.newName} handler={props.handleNameChange} />\n      <Input text=\"Numero\" value={props.newNumber} handler={props.handleNumberChange} />  \n      <Button text=\"Lisää\" />\n    </form>\n)\nexport default Form","import React from 'react'\n\n\nconst RemoveButton = (props) => {\n    \nreturn ( \n  <>\n    <button onClick={props.handleClick} id={props.id} name={props.name}>{props.text}</button>\n  </>\n)}\n\nexport default RemoveButton","import React from 'react'\nimport RemoveButton from './RemoveButton'\n\nconst Name = ({ name, number, id, eventHandler }) => {\n    return (\n      <li>{name} {number} <RemoveButton text=\"Poista\" handleClick={eventHandler} id={id} name={name} /></li>\n    )\n  }\n\n  export default Name","import React from 'react'\nimport Name from './Name'\n\nconst RowsFiltered = (props) => {\n    console.log(\"Filter:\", props.filter)\n    const filter = props.filter\n    const persons = props.persons\n    const eventHandler = props.eventHandler\n    const newList = persons.filter(item => item.name.toLowerCase().includes(filter.toLowerCase())).map(i =>\n        <Name key={i.name} name={i.name} number={i.number} id={i.id} eventHandler={eventHandler} />\n        )\n    return (\n        <ul>\n            {newList}\n        </ul>\n    )\n  }\n\nexport default RowsFiltered","import React from 'react'\n\nconst Notification = ({ notification }) => {\n    console.log(\"Notification: message\", notification.message)\n    console.log(\"Notification: style\", notification.style)\n    console.log(\"Notification:\", notification)\n    if (notification.message === null) {\n      return null\n    }\n  \n    return (\n      <div className={`notification ${notification.style}`} >\n        {notification.message}\n      </div>\n    )\n  }\n\n  export default Notification","import axios from 'axios'\n\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://thawing-brook-56047.herokuapp.com/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n}\n\nexport default { getAll, create, update, remove }\n","import React, { useState, useEffect } from 'react'\nimport Input from './components/Input'\nimport Form from './components/Form'\nimport RowsFiltered from './components/RowsFiltered'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notification, setNotification ] = useState({message: null, style: null})\n\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const addName = (event) => {\n    event.preventDefault()\n    console.log('persons', persons)\n    if (!persons.some(i => i.name.toLowerCase() === newName.toLowerCase()) && newName.length > 0 && newNumber.length > 0) {\n      const newPerson = { \n        name: newName,\n        number: newNumber\n       }\n      console.log('newPerson', newPerson)\n\n      personService\n        .create(newPerson).then(returnedPersons => {  \n        setPersons(persons.concat(returnedPersons))\n        setNewName('')\n        setNewNumber('')\n      })\n\n      const newNotification = { \n        message: `Henkilö '${newPerson.name}' lisättiin`,\n        style: \"success\"\n       }\n\n      setNotification( newNotification )\n\n      setTimeout(() => {\n        setNotification({message: null, style: null})\n      }, 5000)\n\n    } else if(persons.some(i => i.name.toLowerCase() === newName.toLowerCase())) {\n      if (window.confirm(`${newName} on jo luettelossa. Korvataanko vanha uudella numerolla?`)) {\n        const newPerson = { \n          name: newName,\n          number: newNumber\n         }\n        const personUpdate = persons.find(i => i.name.toLowerCase() === newName.toLowerCase())\n        console.log(\"personUpdate\", personUpdate)\n        const id = personUpdate.id\n        console.log(\"id\", id)\n        personService\n        .update(id, newPerson)\n        .then(() => personService.getAll())\n        .then(remainingPersons => {\n          setPersons(remainingPersons)\n          const newNotification = { \n            message: `Henkilö '${newPerson.name}' muutettiin`,\n            style: \"success\"\n          }\n    \n          setNotification( newNotification )\n    \n          setTimeout(() => {\n            setNotification({message: null, style: null})\n          }, 5000)\n        })\n        .catch(error => {\n          /* alert(\n            `the person '${newName}' was already deleted from server`\n          ) */\n          const newNotification = { \n            message: `Henkilö '${newPerson.name}' oli jo poistettu`,\n            style: \"failure\"\n          }\n    \n          setNotification( newNotification )\n    \n          setTimeout(() => {\n            setNotification({message: null, style: null})\n          }, 5000)\n          setPersons(persons.filter(n => n.id !== id))\n          \n        })\n\n      }\n    } else {\n      // alert(`Nimi tai numero puuttuu`)\n      const newNotification = { \n        message: `Nimi tai numero puuttuu`,\n        style: \"failure\"\n      }\n\n      setNotification( newNotification )\n\n      setTimeout(() => {\n        setNotification({message: null, style: null})\n      }, 5000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  /* const Rows = () => persons.map(i =>\n    <Name key={i.name} name={i.name} number={i.number} />\n  ) */\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const handleDeleteName = (event) => {\n    event.preventDefault()\n    console.log(\"Remove ID\")\n    const id = event.target.getAttribute(\"id\");\n    const name = event.target.getAttribute(\"name\");\n    console.log(\"ID\", id)\n    console.log(\"Name\", name)\n    \n    if (window.confirm(`Poistetaanko ${name}?`)) {\n      personService\n        .remove(id)\n        .then(() => personService.getAll())\n        .then(remainingPersons => {\n          setPersons(remainingPersons)\n        })\n    }\n\n    const newNotification = { \n      message: `Henkilö '${name}' poistettiin`,\n      style: \"success\"\n     }\n\n    setNotification( newNotification )\n\n    setTimeout(() => {\n      setNotification({message: null, style: null})\n    }, 5000)\n\n  }\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification notification={notification} />\n      <Input text=\"Rajaa näytettäviä\" value={newFilter} handler={handleFilterChange} />\n      <h2>Lisää uusi</h2>\n      <Form submit={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numerot</h2>\n      <RowsFiltered filter={newFilter} persons={persons} eventHandler={handleDeleteName} />\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from './App';\nimport './index.css'; \n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}